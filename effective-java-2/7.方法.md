# 第七章 方法

## 38. 检查参数的有效性

## 39. 必要时进行保护性拷贝

- 保护性拷贝实在参数有效性检查(38)之前进行的，而且有效性检查是针对拷贝之后的对象，这样做可以避免从检查参数到拷贝对象之间的时间段内从另一个线程改变类的参数


## 40. 谨慎设计方法签名
- 谨慎选择方法的名称：遵守命名规范、易于理解
- 不要过于追求提供便利的方法：方法职责清晰、小方法
- 避免过长的参数列表：<=4
  1. 方法拆分
  2. 创建辅助类，用来保存参数的分组，这些辅助类一般为静态成员类(22)
  3. 从对象构建到方法调用都采用builder模式(2)
- 对于参数类型，优先使用接口而不是类
- 对于boolean参数，优先使用两个元素的枚举类型

## 41. 慎用重载
- 对于要调用哪个重载方法，是在编译时作出的决定
- 覆盖(Override)方法的选择是在运行时作出的
``` java
List<Integer> list = new ArrayList<>();
for(int i=-3; i<3; i++) {
    list.add(i);
}
for(int i=0; i<3; i++) {
    list.remove(i);
}
System.out.println(list);

result：[-2,0,2]
```
原因：List的remove方法有两个重载方法
``` java
boolean remove(Object o);
E remove(int index)
```
Integer类型时是移除对象，而int时是移除制定位置的值

> #### 使用重载方法至少应该避免以下情形：
- 同一组参数只需经过类型转换就可以传递给不同的重载方法

##### 要保证传递同样的参数，所有重载方法的行为必须一致

## 42. 慎用可变参数

## 43. 返回0长度的数组或者集合，而不是null

## 44. 为所有导出的api元素编写文档注释



